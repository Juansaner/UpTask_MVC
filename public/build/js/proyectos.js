!function(){const e=document.querySelector(".listado-proyectos");e&&e.addEventListener("click",(e=>{const t=e.target.closest(".eliminar-proyecto");if(t){return void function(e){Swal.fire({title:"¿Eliminar este proyecto?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&async function(e){const t=new FormData;t.append("id",e);try{const e=`${location.origin}/api/proyecto/eliminar_proyecto`,o=await fetch(e,{method:"POST",body:t}),n=await o.json();"exito"===n.respuesta.tipo&&(Swal.fire("Eliminado!",n.respuesta.mensaje,"success"),setTimeout((()=>{window.location.replace(`${location.origin}/dashboard`)}),1500))}catch(e){console.log(e)}}(e)}))}(t.dataset.proyectoId)}const o=e.target.closest(".editar-proyecto");if(o){!function(e,t){const o=document.createElement("DIV");o.classList.add("modal"),o.innerHTML=`\n        <form class='formulario formulario-cambiar-nombre'>\n            <legend>Editar nombre</legend>\n            <div class='campo'>\n                <label>Nombre del proyecto</label>\n                <input \n                    type='text' \n                    id='nombre' \n                    name='nombre' \n                    placeholder= 'Renombrar proyecto'\n                    value='${e}'\n                />\n            </div>\n            <div class='opciones'>\n                <input type='submit' class='submit-nuevo-nombre' value='Guardar cambios'/>\n                <button type='button' class='cerrar-modal'>Cancelar</button>\n            </div>\n        </form>\n        `,setTimeout((()=>{document.querySelector(".formulario").classList.add("animar")}),0),o.addEventListener("click",(function(n){if(n.preventDefault(),n.target.classList.contains("cerrar-modal")){document.querySelector(".formulario-cambiar-nombre").classList.add("cerrar"),setTimeout((()=>{o.remove()}),500)}if(n.target.classList.contains("submit-nuevo-nombre")){const o=document.querySelector("#nombre").value.trim();if(""===o)return void function(e,t,o){const n=document.querySelector(".alerta");n&&n.remove();const a=document.createElement("DIV");a.classList.add("alerta",t),a.textContent=e,o.parentElement.insertBefore(a,o.nextSibling),setTimeout((()=>{a.remove()}),5e3)}("El titulo es obligatorio","error",document.querySelector(".formulario-cambiar-nombre legend"));(async function(e,t){const o=new FormData;o.append("proyecto",e),o.append("id",t);try{const e=`${location.origin}/api/proyecto/actualizar_proyecto`,t=await fetch(e,{method:"POST",body:o}),n=await t.json();"exito"===n.respuesta.tipo&&(Swal.fire("Actualizado",n.respuesta.mensaje,"success"),setTimeout((()=>{window.location.replace(`${location.origin}/dashboard`)}),1500))}catch(e){console.log(e)}})(e=o,t)}})),document.querySelector(".dashboard").appendChild(o)}(o.dataset.proyectoNombre,o.dataset.proyectoId)}else;}))}();