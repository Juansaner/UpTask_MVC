!function(){document.querySelector(".editar-proyecto").addEventListener("click",(function(){!function(){const e=document.createElement("DIV");e.classList.add("modal"),e.innerHTML="\n        <form class='formulario formulario-cambiar-nombre'>\n            <legend>Editar nombre</legend>\n            <div class='campo'>\n                <label>Nombre del proyecto</label>\n                <input \n                    type='text' \n                    id='nombre' \n                    name='nombre' \n                    placeholder= 'Renombrar proyecto'\n                />\n            </div>\n            <div class='opciones'>\n                <input type='submit' class='submit-nuevo-nombre' value='Guardar cambios'/>\n                <button type='button' class='cerrar-modal'>Cancelar</button>\n            </div>\n        </form>\n        ",setTimeout((()=>{document.querySelector(".formulario").classList.add("animar")}),0),e.addEventListener("click",(function(o){if(o.preventDefault(),o.target.classList.contains("cerrar-modal")){document.querySelector(".formulario").classList.add("cerrar"),setTimeout((()=>{e.remove()}),500)}})),document.querySelector("body").appendChild(e)}()}));const e=document.querySelector(".listado-proyectos");e&&e.addEventListener("click",(e=>{const o=e.target.closest(".eliminar-proyecto");if(o){!function(e){Swal.fire({title:"¿Eliminar este proyecto?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then((o=>{o.isConfirmed&&async function(e){const o=new FormData;o.append("id",e),console.log("ID que estamos enviando:",e),console.log("FormData:",o.get("id"));try{const e=`${location.origin}/api/proyecto/eliminar_proyecto`,t=await fetch(e,{method:"POST",body:o}),n=await t.json();"exito"===n.respuesta.tipo&&(Swal.fire("Eliminado!",n.respuesta.mensaje,"success"),setTimeout((()=>{window.location.replace(`${location.origin}/dashboard`)}),1500))}catch(e){console.log(e)}}(e)}))}(o.dataset.proyectoId)}}))}();