!function(){document.querySelector(".editar-proyecto").addEventListener("click",(function(){!function(){const e=document.createElement("DIV");e.classList.add("modal"),e.innerHTML="\n        <form class='formulario formulario-cambiar-nombre'>\n            <legend>Editar nombre</legend>\n            <div class='campo'>\n                <label>Nombre del proyecto</label>\n                <input \n                    type='text' \n                    id='nombre' \n                    name='nombre' \n                    placeholder= 'Renombrar proyecto'\n                />\n            </div>\n            <div class='opciones'>\n                <input type='submit' class='submit-nuevo-nombre' value='Guardar cambios'/>\n                <button type='button' class='cerrar-modal'>Cancelar</button>\n            </div>\n        </form>\n        ",setTimeout((()=>{document.querySelector(".formulario").classList.add("animar")}),0),e.addEventListener("click",(function(t){if(t.preventDefault(),t.target.classList.contains("cerrar-modal")){document.querySelector(".formulario-cambiar-nombre").classList.add("cerrar"),setTimeout((()=>{e.remove()}),500)}if(t.target.classList.contains("submit-nuevo-nombre")){if(""===document.querySelector("#nombre").value.trim())return void function(e,t,o){const n=document.querySelector(".alerta");n&&n.remove();const r=document.createElement("DIV");r.classList.add("alerta",t),r.textContent=e,o.parentElement.insertBefore(r,o.nextSibling),setTimeout((()=>{r.remove()}),5e3)}("El titulo es obligatorio","error",document.querySelector(".formulario-cambiar-nombre legend"))}})),document.querySelector("body").appendChild(e)}()}));const e=document.querySelector(".listado-proyectos");e&&e.addEventListener("click",(e=>{const t=e.target.closest(".eliminar-proyecto");if(t){!function(e){Swal.fire({title:"¿Eliminar este proyecto?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&async function(e){const t=new FormData;t.append("id",e),console.log("ID que estamos enviando:",e),console.log("FormData:",t.get("id"));try{const e=`${location.origin}/api/proyecto/eliminar_proyecto`,o=await fetch(e,{method:"POST",body:t}),n=await o.json();"exito"===n.respuesta.tipo&&(Swal.fire("Eliminado!",n.respuesta.mensaje,"success"),setTimeout((()=>{window.location.replace(`${location.origin}/dashboard`)}),1500))}catch(e){console.log(e)}}(e)}))}(t.dataset.proyectoId)}}))}();